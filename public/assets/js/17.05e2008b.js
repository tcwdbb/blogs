(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{448:function(t,s,a){"use strict";a.r(s);var n=a(18),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"组件化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件化"}},[t._v("#")]),t._v(" 组件化")]),t._v(" "),a("h3",{attrs:{id:"如何理解mvvm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何理解mvvm"}},[t._v("#")]),t._v(" 如何理解MVVM")]),t._v(" "),a("h2",{attrs:{id:"响应式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#响应式"}},[t._v("#")]),t._v(" 响应式")]),t._v(" "),a("ul",[a("li",[t._v("Object.defineProperty()的缺点\n"),a("ul",[a("li",[a("ol",[a("li",[t._v("无法深度监听，需要递归到底，一次性计算量大")])])]),t._v(" "),a("li",[a("ol",{attrs:{start:"2"}},[a("li",[t._v("无法监听新增属性/删除属性（需要使用Vue.set Vue.delete）")])])]),t._v(" "),a("li",[a("ol",{attrs:{start:"3"}},[a("li",[t._v("无法监听数组，需要特殊处理")])])])])])]),t._v(" "),a("h2",{attrs:{id:"vdom和diff"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vdom和diff"}},[t._v("#")]),t._v(" vdom和diff")]),t._v(" "),a("ul",[a("li",[t._v("vdom 用js模拟DOM结构，计算出最小的变更，操作DOM")]),t._v(" "),a("li",[t._v("用JS模拟DOM结构（vnode）")]),t._v(" "),a("li",[t._v("新旧vnode对比，得出最小更新范围，最后更新DOM")]),t._v(" "),a("li",[t._v("只有这样才能在数据驱动视图模式下，有效的控制DOM操作")])]),t._v(" "),a("h2",{attrs:{id:"模版编译"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模版编译"}},[t._v("#")]),t._v(" 模版编译")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("with语法")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  a"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  b"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//100")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//200")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//undefined")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//使用with，能改变{}内自由变量的查找方式")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//将{}内自由变量当作obj的属性来查找")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//with要慎用，它打破了作用域规则，易读性变差")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//100")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//200")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//报错")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br")])]),a("ul",[a("li",[a("p",[t._v("模版不是html，有指令，插值，JS表达式，能实现循环，判断")])]),t._v(" "),a("li",[a("p",[t._v("html是标签语言，只有JS才能实现循环，判断")])]),t._v(" "),a("li",[a("p",[t._v("因此模版一定是转换为了JS代码，即模版编译")])]),t._v(" "),a("li",[a("p",[t._v("模版编译为render函数，，执行render函数返回vnode")])]),t._v(" "),a("li",[a("p",[t._v("基于vnode再执行patch和diff")])]),t._v(" "),a("li",[a("p",[t._v("使用webpack vue-loader，会在开发环境下编译模版，在浏览器执行的时候就直接执行js的函数，不重新编译模版")])]),t._v(" "),a("li",[a("p",[t._v("组件渲染更新过程")])])])])]),t._v(" "),a("h2",{attrs:{id:"渲染过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#渲染过程"}},[t._v("#")]),t._v(" 渲染过程")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("初次渲染过程")]),t._v(" "),a("ul",[a("li",[t._v("解析模版为render函数（或在开发环境已完成，vue-loader）")]),t._v(" "),a("li",[t._v("触发响应式，监听data属性getter  setter")]),t._v(" "),a("li",[t._v("执行render函数，生成vnode，patch(elem,vnode)")])])]),t._v(" "),a("li",[a("p",[t._v("更新过程")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("修改data，触发setter（此前在getter中已被监听）")])]),t._v(" "),a("li",[a("p",[t._v("重新执行render函数，生成newVnode")])]),t._v(" "),a("li",[a("p",[t._v("执行patch(vode,newVnode)")])]),t._v(" "),a("li",[a("p",[t._v("通过render函数生成虚拟dom树，在模版中使用了哪个data中的变量，就触发变量的getter，收集依赖，将这个变量观察（watcher）起来\n然后在修改data的时候，notify（通知）watcher，看修改的是不是之前被观察起来的，如果是之前已经作为依赖观察起来的，那就重新执行render函数")])])])]),t._v(" "),a("li",[a("p",[t._v("异步渲染  data修改之后DOM不会立刻更新")]),t._v(" "),a("ul",[a("li",[a("ol",[a("li",[t._v("异步渲染，$nextTick 待 DOM渲染完后触发回调")])])]),t._v(" "),a("li",[a("ol",{attrs:{start:"2"}},[a("li",[t._v("页面渲染时会将data的修改做整合，多次修改只会渲染一次（汇总data的修改，一次性更新视图）")])]),t._v(" "),a("ul",[a("li",[t._v("目的： 减少DOM操作次数，提高性能")])])])])])]),t._v(" "),a("h2",{attrs:{id:"前端路由"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端路由"}},[t._v("#")]),t._v(" 前端路由")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("hash")]),t._v(" "),a("ul",[a("li",[t._v("特点：\n"),a("ul",[a("li",[t._v("hash变化会触发网页跳转，即浏览器的前进后退")]),t._v(" "),a("li",[t._v("hash变化不会刷新页面，SPA必须的特点")]),t._v(" "),a("li",[t._v("hash永远不会提交到server端，")])])])])]),t._v(" "),a("li",[a("p",[t._v("history")]),t._v(" "),a("ul",[a("li",[t._v("配置")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("mode"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" history\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("ul",[a("li",[t._v("用url规范的路由，但跳转时不刷新页面")]),t._v(" "),a("li",[t._v("const state = {name: 'page1'}")]),t._v(" "),a("li",[t._v("history.pushState(state, '', 'page1')")]),t._v(" "),a("li",[t._v("window.onpopstate // 监听页面前景后退"),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onpopstate")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])])]),t._v(" "),a("li",[t._v("DOMContentLoaded  监听页面初次加载")])])])])])}),[],!1,null,null,null);s.default=e.exports}}]);